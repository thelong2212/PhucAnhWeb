@model PagedList.IPagedList<PhucAnh_done.Models.SanPham>
@using PhucAnh_done.Models
@using PagedList.Mvc;
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var phanLoaiTheoHang = ViewData["phanLoaiTheoHang"] as List<PhanLoaiTheoHangSp> ?? new List<PhanLoaiTheoHangSp>();
    var loaiDanhMucSanPham = ViewData["loaiDanhMucSanPham"] as List<LoaiDanhMucSanPham> ?? new List<LoaiDanhMucSanPham>();
    var loaiDMSP = ViewData["loaiDMSP"] as List<DanhMucSanPham> ?? new List<DanhMucSanPham>();
    var DanhMuc = ViewData["DanhMuc"] as List<PhanLoaiSanPham> ?? new List<PhanLoaiSanPham>();
    var model = ViewData["model"] as IEnumerable<SanPham>;
    <link href="~/Asset/admin/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
}
<section>
    <div class="container cont">
        <div id="menu"> 
            <div class="container">
                <div class="row nav" style="height: 32px">
                    <div class="col-md-3" id="menu1">
                        <div class="titlee">
                            <a href="">
                                <i class="fas fa-bars"></i>
                                <span>DANH MỤC SẢN PHẨM</span>
                            </a>
                            <ul class="menu-product">
                                @foreach (var PhanLoaiDM in loaiDanhMucSanPham)
                                {
                                    <li class="hover">
                                        <a href="/productCategory/@PhanLoaiDM.DanhMucSanPhamPID">@PhanLoaiDM.TenLoaiDanhMucSanPham</a>
                                        <div class="menu-detail">
                                            @foreach (var itemC in loaiDMSP.Where(x => x.DanhMucSanPhamPID == PhanLoaiDM.DanhMucSanPhamPID))
                                            {
                                                <div class="box-cat">
                                                    <a class="ti-menu" href="#"><b>@itemC.TenDanhMucSanPham</b></a>
                                                    <div class="new-sub">
                                                        @foreach (var item in DanhMuc.Where(x => x.DanhMucSanPhamID == itemC.DanhMucSanPhamID))
                                                        {
                                                            <div class="lap1">
                                                                <a href="/productCategoryClass/@item.DanhMucSanPhamID">@item.TenPhanLoaiSanPham<i class="fa fa-angle-right"></i></a>
                                                                @foreach (var spdm in phanLoaiTheoHang)
                                                                {
                                                                    var child = phanLoaiTheoHang.Where(x => x.PhanLoaiSanPhamID == item.PhanLoaiSanPhamID);
                                                                    if (child.Count() > 0)
                                                                    {
                                                                        <div class="list-sub-hover">

                                                                            @foreach (var childItem in child)
                                                                            {
                                                                                <a href="/productCategoryName/@childItem.PhanLoaiSanPhamID" class="cat3">@childItem.TenSanPhamTheoHang</a>
                                                                            }
                                                                        </div>
                                                                    }
                                                                }
                                                            </div>
                                                        }
                                                    </div>

                                                </div>
                                            }
                                        </div>

                                    </li>
                                }
                            </ul>

                        </div>
                    </div>
                    <div class="col-md-7" id="menu2">
                        <span>
                            <i class="far fa-check-circle"></i>
                            <img src="" alt="">
                            100% Chính Hãng
                        </span>
                        <span>
                            <i class="fas fa-hand-holding-usd"></i>
                            <img src="" alt="">
                            Giá ưu đãi nhất
                        </span>
                        <span>
                            <i class="	fas fa-truck"></i>
                            Miễn Phí vận chuyển
                        </span>
                        <span>
                            <i class="	fab fa-google-drive"></i>
                            Bảo hành sử dụng
                        </span>
                    </div>
                    <div class="col-md-2" id="menu3">
                        <a href="">DEAL GIỜ VÀNG</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section>
    <div class="container">
        <div><h2>Kết quả tìm kiếm</h2></div>
        <div class="row img-table">
            @foreach (var item in Model)
            {
                if (item.AnhSanPham == null)
                {
                    item.AnhSanPham = "~/Images/productImage/a.jpg";
                }
                <div class="col-md-3 col" id="img-table-1">
                    <img src="@Url.Content(item.AnhSanPham)" alt="">
                    <a href="/detailProduct/@item.SanPhamID">@item.TenSanPham</a>
                    <span style="font-size: 12px;">
                        <i id="list-price">Giá niêm miết: </i>@(item.GiaNiemYet + "VND")
                    </span>
                    <span id="price">
                        <i>Giá bán: </i>@(item.GiaBan)
                    </span>
                    <span id="pro-icon">
                        <i class="fas fa-check" id="tick">
                            Có
                            hàng
                        </i>
                        <i class="fas fa-shopping-cart" id="cart">
                            Giỏ hàng
                        </i>
                    </span>

                </div>
            }
        </div>
        @Html.PagedListPager(Model, page => Url.Action("Index", new { page }))
    </div>

</section>
