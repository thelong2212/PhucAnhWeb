@using PhucAnh_done.Models;

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var Ten = ViewBag.TenLoaiDMSP as string;
    var TenLoaiDMSP = ViewData["TenLoaiDMSP"] as List<DanhMucSanPham> ?? new List<DanhMucSanPham>();
    var ListLoaiDMSP = ViewData["ListLoaiDMSP"] as List<SanPham> ?? new List<SanPham>();
    var phanLoaiTheoHang = ViewData["phanLoaiTheoHang"] as List<PhanLoaiTheoHangSp> ?? new List<PhanLoaiTheoHangSp>();
    var loaiDanhMucSanPham = ViewData["loaiDanhMucSanPham"] as List<LoaiDanhMucSanPham> ?? new List<LoaiDanhMucSanPham>();
    var loaiDMSP = ViewData["loaiDMSP"] as List<DanhMucSanPham> ?? new List<DanhMucSanPham>();
    var DanhMuc = ViewData["DanhMuc"] as List<PhanLoaiSanPham> ?? new List<PhanLoaiSanPham>();

}
<section>
    <div class="container cont">
        <div id="menu">
            <div class="container">
                <div class="row nav" style="height: 29px">
                    <div class="col-md-3" id="menu1">
                        <div class="titlee">
                            <a href="">
                                <i class="fas fa-bars"></i>
                                <span>DANH MỤC SẢN PHẨM</span>
                            </a>                         
                            <ul class="menu-product">
                                @foreach (var PhanLoaiDM in loaiDanhMucSanPham)
                                {
                                    <li class="hover">
                                        <a href="/productCategory/@PhanLoaiDM.DanhMucSanPhamPID">@PhanLoaiDM.TenLoaiDanhMucSanPham</a>
                                        <div class="menu-detail">
                                            @foreach (var itemC in loaiDMSP.Where(x => x.DanhMucSanPhamPID == PhanLoaiDM.DanhMucSanPhamPID))
                                            {
                                                <div class="box-cat">
                                                    <a class="ti-menu" href="#"><b>@itemC.TenDanhMucSanPham</b></a>
                                                    <div class="new-sub">
                                                        @foreach (var item in DanhMuc.Where(x => x.DanhMucSanPhamID == itemC.DanhMucSanPhamID))
                                                        {
                                                            <div class="lap1">
                                                                <a href="/productCategoryClass/@item.PhanLoaiSanPhamID">@item.TenPhanLoaiSanPham<i class="fa fa-angle-right"></i></a>
                                                                @foreach (var spdm in phanLoaiTheoHang)
                                                                {
                                                                    var child = phanLoaiTheoHang.Where(x => x.PhanLoaiSanPhamID == item.PhanLoaiSanPhamID);
                                                                    if (child.Count() > 0)
                                                                    {
                                                                        <div class="list-sub-hover">

                                                                            @foreach (var childItem in child)
                                                                            {
                                                                                <a href="/productCategoryName/@childItem.PhanLoaiSanPhamID" class="cat3">@childItem.TenSanPhamTheoHang</a>
                                                                            }
                                                                        </div>
                                                                    }
                                                                }
                                                            </div>
                                                        }
                                                    </div>

                                                </div>
                                            }
                                        </div>

                                    </li>
                                }
                            </ul>
                            
                        </div>
                    </div>
                    <div class="col-md-7" id="menu2">
                        <span>
                            <i class="far fa-check-circle"></i>
                            <img src="" alt="">
                            100% Chính Hãng
                        </span>
                        <span>
                            <i class="fas fa-hand-holding-usd"></i>
                            <img src="" alt="">
                            Giá ưu đãi nhất
                        </span>
                        <span>
                            <i class="	fas fa-truck"></i>
                            Miễn Phí vận chuyển
                        </span>
                        <span>
                            <i class="	fab fa-google-drive"></i>
                            Bảo hành sử dụng
                        </span>
                    </div>
                    <div class="col-md-2" id="menu3">
                        <a href="">DEAL GIỜ VÀNG</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section>
    <div class="container">
        <div id="breadcrumb">
            <div>
                <a href=""><span>@Ten</span> </a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-7 slider" id="slider1">
                <div id="carouselExampleControls1" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="~/asset/client/image/bn-product/bnr-left/01_Jul19e985a1773196d87f1b4a129a722986.jpg" class="d-block w-100" alt="">
                        </div>
                        <div class="carousel-item">
                            <img src="~/asset/client/image/bn-product/bnr-left/01_Jul73bf2ec7f84c50de72f24b69025df205.jpg" class="d-block w-100" alt="">
                        </div>
                        <div class="carousel-item">
                            <img src="~/asset/client/image/bn-product/bnr-left/01_Julf8c952e3af92bb875f809f5c8d8f676f.jpg" class="d-block w-100" alt="">
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls1" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls1" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>

                    </button>
                </div>
            </div>
            <div class="col-md-5 slider" id="slider2">
                <div id="carouselExampleControls2" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="~/asset/client/image/bn-product/bnr-right/16_Apre64d6e066105a37d4260dfee0807e807.jpg" class="d-block w-100" alt="">
                        </div>
                        <div class="carousel-item">
                            <img src="~/asset/client/image/bn-product/bnr-right/01_Jul0bda0127305f112bc8e4cef67063bebb.png" class="d-block w-100" alt="">
                        </div>
                        <div class="carousel-item">
                            <img src="~/asset/client/image/bn-product/bnr-right/03_Augca538c343179bf0fbdfab6cd10469afd.jpg" class="d-block w-100" alt="">
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls2" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls2" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>

                    </button>
                </div>
            </div>
        </div>

    </div>
</section>
<section>
    <div class="container cont">
        <div>
            @foreach (var dm in TenLoaiDMSP)
            {
                <div class="name-product">
                    <div id="name-product">
                        <p>@dm.TenDanhMucSanPham</p>
                    </div>
                </div>

                <div class="row img-table">
                    @foreach (var item in ListLoaiDMSP.Where(x => x.DanhMucSanPhamID == dm.DanhMucSanPhamID))
                    {
                        if (item.AnhSanPham == null)
                        {
                            item.AnhSanPham = "~/images/product/a.jpg";
                        }
                    <div class="col-md-3 col" id="img-table-1">
                        @if (ListLoaiDMSP.Count == 0)
                        {
                        <div>
                            <p>
                                Sản Phâm Hiện Chưa Được Cập Nhật
                            </p>
                        </div>
                        }
                        else
                        {
                            <img src="@Url.Content(item.AnhSanPham)" alt="">
                            <a href="/detailProduct/@item.SanPhamID">@item.TenSanPham</a>
                            <span style="font-size: 12px;">
                                <i id="list-price">Giá niêm miết: </i>@(item.GiaNiemYet + "VND")
                            </span>
                            <span id="price">
                                <i>Giá bán: </i>@(item.GiaBan)
                            </span>
                            <span id="pro-icon">
                                <i class="fas fa-shopping-cart" id="cart">
                                    Giỏ hàng
                                </i>
                            </span>
                        }
                    </div>
                    }
                </div>
            }

        </div>
    </div>
</section>

